<a type="button" id="btnSearch" class="search-btn">搜索</a>
<div id="searchContainer" class="search-container">
	<div id="searchContent" class="search-content">
		<div class="search-input">
			<input id="searchInput" type="text" placeholder="查找文章" />
		</div>
		<div id="searchResult" class="search-result-container"></div>
	</div>
</div>
<script>
	function keyHandler(e) {
		if (e.keyCode == 27) {
			closeModal();
		}
	}
	function openModal() {
		disableBodyScroll();
		$('.search-container').addClass('show-search');
		$('#searchInput').focus();
		document.addEventListener('keydown', keyHandler);
	}
	function closeModal() {
		enableBodyScroll();
		$('#searchInput').val('');
		$('#searchResult').empty();
		$('.search-container').removeClass('show-search');
		document.removeEventListener('keydown', keyHandler);
	}
	// 防止首页内容滚动
	function disableBodyScroll() {
		document.body.style.width = '100%';
		var body = document.body;
		window.stTemp = Math.max(body.scrollTop, document.documentElement.scrollTop);
		body.style.overflow = 'hidden';
		body.style.position = 'fixed';
		body.style.top = (-window.stTemp || 0) + 'px';
	}
	// 恢复首页滚动
	function enableBodyScroll() {
		document.body.style.width = '';
		var body = document.body;
		body.style.overflow = 'scroll';
		body.style.position = 'static';
		body.style.top = '0px';
		body.scrollTop = window.stTemp;
		document.documentElement.scrollTop = window.stTemp;
	}
	// 阻止冒泡，防止点击弹窗内容触发弹窗关闭
	searchContent.addEventListener('click', function (e) {
		e.stopPropagation();
	});
	// 点击搜索打开搜索弹窗
	btnSearch.addEventListener('click', openModal);
	// 关闭搜索弹窗
	searchContainer.addEventListener('click', closeModal);
	// 注册搜索函数
	searchFunc('search.json', 'searchInput', 'searchResult');
</script>
